.title p {
font-size: 14px;
color: #666;
}
<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blower-Door Pr√ºfverfahren gem. ISO 9972:2018</title>


    <!-- externe stylesheet Anbindung -->
    <link rel="stylesheet" href="./styles/style.css">



</head>

<body>
    <!-- Seite 1 -->
    <div class="page">
        <div class="hole-second"></div> <!-- Zweite Lochmarkierung -->
        <div class="hole-third"></div> <!-- Dritte Lochmarkierung -->
        <div class="header">
            <div class="header-background"></div>
            <div class="logo-placeholder">LOGO</div>
            <div class="title">
                <h1>Blower-Door</h1>
                <p>Pr√ºfverfahren gem. ISO 9972:2018</p>
            </div>
            <div class="map-placeholder">Karte</div>
        </div>

        <div class="info-block" style="margin-bottom: 20px;">
            <h3>Gepr√ºftes Objekt:</h3>
            <div class="field-group">
                <label>Objekt:</label>
                <input type="text" value="Wohneinheit nach Sanierung">
            </div>
            <div class="field-group">
                <label>Bauabschnitt:</label>
                <input type="text" value="EG">
            </div>
            <div class="field-group">
                <label>Adresse:</label>
                <input type="text" value="Ernst-Th√§lmann-Stra√üe 27">
            </div>
            <div class="field-group">
                <label>PLZ/Ort:</label>
                <input type="text" value="D-99423 Weimar">
            </div>
        </div>

        <div class="info-block" style="margin-bottom: 20px;">
            <h3>Auftraggeber/in:</h3>
            <div class="field-group">
                <label>Name:</label>
                <input type="text" value="Sarah B√§umel">
            </div>
            <div class="field-group">
                <label>Adresse:</label>
                <input type="text" value="Ernst-Th√§lmann-Stra√üe 27">
            </div>
            <div class="field-group">
                <label>PLZ/Ort:</label>
                <input type="text" value="D-99423 Weimar">
            </div>
        </div>

        <div class="info-block" style="margin-bottom: 20px;">
            <h3>Auftragnehmer:</h3>
            <div class="field-group">
                <label>Name:</label>
                <input type="text" value="Dipl.-Ing. Christoph Quiatkowski">
            </div>
            <div class="field-group">
                <label>Beruf:</label>
                <input type="text" value="Architekturdienstleister und Energieberater">
            </div>
            <div class="field-group">
                <label>Adresse:</label>
                <input type="text" value="Kegelplatz 5, D-99423 Weimar">
            </div>
            <div class="field-group">
                <label>E-Mail:</label>
                <input type="email" value="christoph@immergo.de">
            </div>
            <div class="field-group">
                <label>Tel.:</label>
                <input type="tel" value="0162-9182524">
            </div>
        </div>

        <div class="info-block" style="margin-bottom: 20px;">
            <h3>Messungen durchgef√ºhrt von:</h3>
            <div class="field-group">
                <label>Name:</label>
                <input type="text" value="Techniker(FH) Danny Heinicke">
            </div>
            <div class="field-group">
                <label>Qualifikation:</label>
                <input type="text" value="Staatlich gepr. K√§lte- und Klimasystemtechniker">
            </div>
        </div>

        <div class="footer">
            <div class="footer-logo">FLIB</div>
            <div>
                <div>Pr√ºfergebnis:</div>
                <div>gemessen am: </div>

            </div>
            <div>
                <div><strong>Bestanden</strong></div>
                <div><strong>November 2025</strong></div>
            </div>
            <div style="font-size: 14px;">Seite 1 von 6</div>
        </div>
    </div>

    <!-- Seite 2 -->
    <div class="page">
        <div class="hole-second"></div> <!-- Zweite Lochmarkierung -->
        <div class="hole-third"></div> <!-- Dritte Lochmarkierung -->
        <div class="header">
            <div class="header-background"></div>
            <div class="logo-placeholder">LOGO</div>
            <div class="title">
                <h1>Blower-Door</h1>
                <p>Pr√ºfverfahren gem. ISO 9972:2018</p>
            </div>
            <div class="map-placeholder">Karte</div>
        </div>

        <div class="section">
            <div class="section-title">Zweck der Messung:</div>
            <div class="info-block" style="margin-bottom: 20px;">
                <h3>√úberpr√ºfung der Anforderung nach KfW-Richtlinie</h3>

            </div>
        </div>

        <div class="section">
            <div class="section-title">Anwendungen:</div>
            <div class="interactive-text-area">
                <h4>üìù Anwendungen</h4>
                <textarea class="editable-text" id="applications-text" placeholder="spezifische Anwendungen 

Beispiele:
‚Ä¢ Leckageortung vor Fertigstellung
‚Ä¢ Qualit√§tskontrolle der Bauausf√ºhrung
‚Ä¢ Nachweis f√ºr F√∂rderungen (KfW, BAFA)
‚Ä¢ √úberpr√ºfung nach Sanierungsma√ünahmen
‚Ä¢ Dokumentation f√ºr Energieausweis"></textarea>
                <div class="text-hint"></div>
            </div>
        </div>

        <div class="section">
            <div class="section-title">Definition:</div>
            <div class="info-block" style="margin-bottom: 20px;">
                <p>Die Blower-Door Messung ist ein Verfahren gem ISO 9972:2018 zur Bestimmung der Luftdurchl√§ssigkeit
                    von Geb√§uden. Diese werden zur Qualit√§tskontrolle der Bauausf√ºhrung und zur √úberpr√ºfung der
                    Anforderungen nach KfW-Richtlinien eingesetzt.</p>
            </div>
        </div>

        <div class="footer">
            <div class="footer-logo">FLIB</div>
            <div>
                <div>Pr√ºfergebnis:</div>
                <div>gemessen am: </div>

            </div>
            <div>
                <div><strong>Bestanden</strong></div>
                <div><strong>November 2025</strong></div>
            </div>
            <div style="font-size: 14px;">Seite 2 von 6</div>
        </div>
    </div>

    <!-- Seite 3 -->
    <div class="page">
        <div class="hole-second"></div> <!-- Zweite Lochmarkierung -->
        <div class="hole-third"></div> <!-- Dritte Lochmarkierung -->
        <div class="header">
            <div class="header-background"></div>
            <div class="logo-placeholder">LOGO</div>
            <div class="title">
                <h1>Blower-Door</h1>
                <p>Pr√ºfverfahren gem. ISO 9972:2018</p>
            </div>
            <div class="map-placeholder">Karte</div>
        </div>

        <div class="info-block" style="margin-bottom: 20px;">
            <h3>Geb√§udedaten:</h3>
            <div class="field-group">
                <label>Netto-Raumvolumen V:</label>
                <input type="number" placeholder="Netto-Raumvolumen V"> m¬≥
            </div>
            <div class="field-group">
                <label>H√ºllfl√§che:</label>
                <input type="number" placeholder="H√ºllfl√§che"> m¬≤
            </div>
            <div class="field-group">
                <label>Geschossanzahl:</label>
                <input type="number" placeholder="Geschossanzahl">
            </div>
            <div class="field-group">
                <label>Nutzungsart:</label>
                <input type="text" placeholder="Nutzungsart">
            </div>
        </div>

        <div class="info-block" style="margin-bottom: 20px;">
            <h3>Wetterdaten:</h3>
            <div class="field-group">
                <label>Au√üentemp.:</label>
                <input type="number" placeholder="Au√üentemperatur"> ¬∞C
            </div>
            <div class="field-group">
                <label>Innentemp.:</label>
                <input type="number" placeholder="Innentemperatur"> ¬∞C
            </div>
            <div class="field-group">
                <label>Wind:</label>
                <input type="number" placeholder="Windgeschwindigkeit"> m/s
            </div>
            <div class="field-group">
                <label>Windrichtung:</label>
                <input type="text" placeholder="Windrichtung">
            </div>
        </div>

        <div class="info-block">
            <h3>Messger√§t:</h3>
            <div class="field-group">
                <label>Hersteller:</label>
                <input type="text" value="Testo">
            </div>
            <div class="field-group">
                <label>Typ/Modell:</label>
                <input type="text" value="DP-510i">
            </div>
            <div class="field-group">
                <label>Seriennummer:</label>
                <input type="text" value="46884224">
            </div>
            <div class="field-group">
                <label>Kalibrierung g√ºltig bis:</label>
                <input type="text" value="03/27">
            </div>
        </div>

        <div class="footer">
            <div class="footer-logo">FLIB</div>
            <div>
                <div>Pr√ºfergebnis:</div>
                <div>gemessen am: </div>

            </div>
            <div>
                <div><strong>Bestanden</strong></div>
                <div><strong>November 2025</strong></div>
            </div>
            <div style="font-size: 14px;">Seite 3 von 6</div>
        </div>
    </div>

    <!-- Seite 4 -->
    <div class="page">
        <div class="hole-second"></div> <!-- Zweite Lochmarkierung -->
        <div class="hole-third"></div> <!-- Dritte Lochmarkierung -->
        <div class="header">
            <div class="header-background"></div>
            <div class="logo-placeholder">LOGO</div>
            <div class="title">
                <h1>Blower-Door</h1>
                <p>Pr√ºfverfahren gem. ISO 9972:2018</p>
            </div>
            <div class="map-placeholder">Karte</div>
        </div>

        <div class="section-title">Messwerte:</div>



        <div class="info-block" style="margin-bottom: 20px;">
            <h3>Unterdruckmessungen:</h3>
            <table class="data-table">
                <thead>
                    <tr>
                        <th>Messung Nr.</th>
                        <th>Differenzdruck [Pa]</th>
                        <th>Volumenstrom [m¬≥/h]</th>
                        <th>Bemerkungen</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>1</td>
                        <td>-10</td>
                        <td>850</td>
                        <td>Startwert</td>
                    </tr>
                    <tr>
                        <td>2</td>
                        <td>-20</td>
                        <td>1200</td>
                        <td>Stabil</td>
                    </tr>
                    <tr>
                        <td>3</td>
                        <td>-30</td>
                        <td>1480</td>
                        <td>Optimal</td>
                    </tr>
                    <tr>
                        <td>4</td>
                        <td>-40</td>
                        <td>1720</td>
                        <td>Gut</td>
                    </tr>
                    <tr>
                        <td>5</td>
                        <td>-50</td>
                        <td>1950</td>
                        <td>Referenzwert</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="info-block" style="margin-bottom: 20px;">
            <h3>√úberdruckmessungen:</h3>
            <table class="data-table">
                <thead>
                    <tr>
                        <th>Messung Nr.</th>
                        <th>Differenzdruck [Pa]</th>
                        <th>Volumenstrom [m¬≥/h]</th>
                        <th>Bemerkungen</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>1</td>
                        <td>10</td>
                        <td>820</td>
                        <td>Startwert</td>
                    </tr>
                    <tr>
                        <td>2</td>
                        <td>20</td>
                        <td>1150</td>
                        <td>Stabil</td>
                    </tr>
                    <tr>
                        <td>3</td>
                        <td>30</td>
                        <td>1420</td>
                        <td>Optimal</td>
                    </tr>
                    <tr>
                        <td>4</td>
                        <td>40</td>
                        <td>1680</td>
                        <td>Gut</td>
                    </tr>
                    <tr>
                        <td>5</td>
                        <td>50</td>
                        <td>1920</td>
                        <td>Referenzwert</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="footer">
            <div class="footer-logo">FLIB</div>
            <div>
                <div>Pr√ºfergebnis:</div>
                <div>gemessen am: </div>

            </div>
            <div>
                <div><strong>Bestanden</strong></div>
                <div><strong>November 2025</strong></div>
            </div>
            <div style="font-size: 14px;">Seite 4 von 6</div>
        </div>
    </div>

    <!-- Seite 5 -->
    <div class="page">
        <div class="hole-second"></div> <!-- Zweite Lochmarkierung -->
        <div class="hole-third"></div> <!-- Dritte Lochmarkierung -->
        <div class="header">
            <div class="header-background"></div>
            <div class="logo-placeholder">LOGO</div>
            <div class="title">
                <h1>Blower-Door</h1>
                <p>Pr√ºfverfahren gem. ISO 9972:2018</p>
            </div>
            <div class="map-placeholder">Karte</div>
        </div>
        <div class="measurement-controls">
            <div class="control-card">
                <h4>n‚ÇÖ‚ÇÄ-Wert [1/h]</h4>
                <div class="control-value control-n50">1.5</div>
            </div>
            <div class="control-card">
                <h4>Geb√§udevolumen [m¬≥]</h4>
                <div class="control-value control-volume">100</div>
            </div>
            <div class="control-card">
                <h4>Max. Druck [Pa]</h4>
                <div class="control-value control-pressure">200</div>
            </div>
        </div>

        <div class="section-title">Diagramm:</div>

        <div class="chart-placeholder">
            <div>
                <div>üìä Diagramm-Platzhalter</div>
                <div style="font-size: 12px; margin-top: 10px;">
                    Hier w√ºrde das Blower-Door Messung Druckverlauf-Diagramm angezeigt<br>
                    Mit theoretischer Kurve, simulierten Messpunkten und realen Messpunkten
                </div>
            </div>
        </div>

        <div class="result-cards">
            <div class="result-card">
                <div class="value">1.5</div>
                <div class="label">n‚ÇÖ‚ÇÄ-Wert [1/h]</div>
            </div>
            <div class="result-card">
                <div class="value">4.02</div>
                <div class="label">q‚ÇÖ‚ÇÄ-Wert [m¬≥/(h¬∑m¬≤)]</div>
            </div>
            <div class="result-card">
                <div class="value">450</div>
                <div class="label">V‚ÇÖ‚ÇÄ [m¬≥/h]</div>
            </div>
        </div>

        <div class="footer">
            <div class="footer-logo">FLIB</div>
            <div>
                <div>Pr√ºfergebnis:</div>
                <div>gemessen am: </div>

            </div>
            <div>
                <div><strong>Bestanden</strong></div>
                <div><strong>November 2025</strong></div>
            </div>
            <div style="font-size: 14px;">Seite 5 von 6</div>
        </div>
    </div>

    <!-- Seite 6 -->
    <div class="page">
        <div class="hole-second"></div> <!-- Zweite Lochmarkierung -->
        <div class="hole-third"></div> <!-- Dritte Lochmarkierung -->
        <div class="header">
            <div class="header-background"></div>
            <div class="logo-placeholder">LOGO</div>
            <div class="title">
                <h1>Blower-Door</h1>
                <p>Pr√ºfverfahren gem. ISO 9972:2018</p>
            </div>
            <div class="map-placeholder">Karte</div>
        </div>

        <div class="section-title">Auswertung:</div>

        <div class="definitions-grid">
            <div class="definition-card definition-blue">
                <h4>üîµ Grundlegende Definitionen</h4>
                <p><strong>n‚ÇÖ‚ÇÄ-Wert:</strong> Luftwechselrate bei 50 Pa Druckdifferenz</p>
                <p><strong>q‚ÇÖ‚ÇÄ-Wert:</strong> Spezifischer Leckagestrom pro m¬≤ H√ºllfl√§che</p>
                <p><strong>V‚ÇÖ‚ÇÄ:</strong> Volumenstrom bei 50 Pa Druckdifferenz</p>
            </div>

            <div class="definition-card definition-green">
                <h4>üü¢ Technische Parameter</h4>
                <p><strong>Potenzfunktion:</strong> V = C √ó ŒîP^n</p>
                <p><strong>Typischer n-Wert:</strong> 0,65 (f√ºr turbulente Str√∂mung)</p>
                <p><strong>Messbereich:</strong> 10-100 Pa (nach ISO 9972)</p>
            </div>
        </div>

        <div class="interactive-text-area">
            <h4>üìù Detaillierte Bewertung der Messergebnisse</h4>
            <textarea class="editable-text evaluation-text" id="evaluation-text" placeholder="Hier k√∂nnen Sie eine detaillierte Bewertung der Messergebnisse eintragen...

Beispielhafte Bewertungskriterien:
‚Ä¢ Bewertung der gemessenen n‚ÇÖ‚ÇÄ-Werte im Vergleich zu Grenzwerten
‚Ä¢ Einhaltung der KfW-Anforderungen (n‚ÇÖ‚ÇÄ ‚â§ 1,5 h‚Åª¬π)
‚Ä¢ Qualit√§t der Messung (Korrelationskoeffizient R¬≤)
‚Ä¢ Identifizierte Leckagen und deren Bedeutung
‚Ä¢ Empfehlungen f√ºr Nachbesserungen
‚Ä¢ Fazit zur Luftdichtheit des Geb√§udes

Bewertung der Messergebnisse:
Der gemessene n‚ÇÖ‚ÇÄ-Wert von 1,5 h‚Åª¬π entspricht exakt dem KfW-Grenzwert f√ºr Sanierungen. Die Messung zeigt eine gute Korrelation zwischen Unter- und √úberdruckmessungen.

Empfehlungen:
- Alle gr√∂√üeren Leckagen wurden bereits w√§hrend der Messung identifiziert und sollten abgedichtet werden
- Nachkontrolle in 6 Monaten empfohlen"></textarea>
            <div class="text-hint">Tipp: Bewerten Sie hier die Messergebnisse fachlich und geben Sie konkrete
                Empfehlungen</div>
        </div>

        <div class="signature-boxes">
            <div class="signature-box">
                <div><strong>Techniker(FH) D.Heinicke</strong></div>
                <div style="margin-top: 70px;">
                    <div style="font-size: 12px;">
                        <p>...............................................................</p> Datum, Unterschrift
                        Messtechniker
                    </div>
                </div>
            </div>

            <div class="signature-box">
                <div><strong>Dipl.-Ing C. Quiatkowski</strong></div>
                <div style="margin-top: 70px;">
                    <div style="font-size: 12px;">
                        <p>...............................................................</p>Datum, Unterschrift
                        Auftraggeber
                    </div>
                </div>
            </div>
        </div>
        <div class="footer">
            <div class="footer-logo">FLIB</div>
            <div>
                <div>Pr√ºfergebnis:</div>
                <div>gemessen am: </div>

            </div>
            <div>
                <div><strong>Bestanden</strong></div>
                <div><strong>November 2025</strong></div>
            </div>
            <div style="font-size: 14px;">Seite 6 von 6</div>
        </div>
    </div>

    <script>
        // Optimiertes JavaScript f√ºr protocol.html - Ersetzt den gesamten <script> Bereich

        // Interaktive Funktionen f√ºr das Formular
        function addRow() {
            const table = document.querySelector('.data-table tbody');
            const newRow = table.insertRow();
            newRow.innerHTML = `
        <td><input type="number" placeholder="Pa"></td>
        <td><input type="number" placeholder="m¬≥/h"></td>
        <td><button onclick="removeRow(this)" style="background: #f44336; color: white; border: none; padding: 5px 10px; border-radius: 3px;">Entfernen</button></td>
    `;
        }

        function removeRow(button) {
            button.closest('tr').remove();
        }

        function clearAll() {
            if (confirm('Alle Messwerte l√∂schen?')) {
                const tbody = document.querySelector('.data-table tbody');
                tbody.innerHTML = '';
            }
        }

        // Auto-save Funktionalit√§t
        function autoSave() {
            const formData = {};

            document.querySelectorAll('input').forEach(input => {
                if (input.id || input.name) {
                    formData[input.id || input.name] = input.value;
                }
            });

            document.querySelectorAll('textarea').forEach(textarea => {
                if (textarea.id) {
                    formData[textarea.id] = textarea.value;
                }
            });

            window.protocolData = formData;
        }

        function loadData() {
            if (window.protocolData) {
                const data = window.protocolData;
                Object.keys(data).forEach(key => {
                    const element = document.getElementById(key) || document.querySelector(`[name="${key}"]`);
                    if (element) {
                        element.value = data[key];
                    }
                });
            }
        }

        // Daten√ºbertragung von index.html
        function loadDataFromURL() {
            const urlParams = new URLSearchParams(window.location.search);
            const encodedData = urlParams.get('data');

            if (encodedData) {
                try {
                    const data = JSON.parse(decodeURIComponent(encodedData));
                    console.log('üîÑ Geladene Daten:', data);

                    // Daten einf√ºgen
                    if (data.weather) {
                        fillWeatherData(data.weather);
                    }

                    if (data.measurement) {
                        fillMeasurementData(data.measurement);
                    }

                    if (data.underpressure || data.overpressure) {
                        fillMeasurementTables(data);
                    }

                    // Erfolgsanzeige
                    showSuccessMessage('‚úÖ Daten erfolgreich √ºbertragen!');

                } catch (error) {
                    console.error('‚ùå Fehler beim Laden der Daten:', error);
                    showErrorMessage('Fehler beim Laden der Daten: ' + error.message);
                }
            }
        }

        // Wetterdaten einf√ºgen
        function fillWeatherData(weatherData) {
            console.log('üå§Ô∏è F√ºlle Wetterdaten:', weatherData);

            // Spezifische Suche nach Placeholder-Texten
            const fieldMapping = {
                'Au√üentemperatur': weatherData.outsideTemp,
                'Innentemperatur': weatherData.insideTemp,
                'Windgeschwindigkeit': weatherData.windSpeed,
                'Windrichtung': weatherData.windDirection
            };

            // Alle Input-Felder durchgehen
            document.querySelectorAll('input').forEach(input => {
                const placeholder = input.getAttribute('placeholder');

                if (placeholder && fieldMapping[placeholder]) {
                    input.value = fieldMapping[placeholder];
                    highlightField(input, '#e6f3ff');
                    console.log(`‚úÖ ${placeholder}: ${fieldMapping[placeholder]}`);
                }
            });
        }

        // Messparameter einf√ºgen
        function fillMeasurementData(measurementData) {
            console.log('üìè F√ºlle Messparameter:', measurementData);

            const fieldMapping = {
                'Netto-Raumvolumen V': measurementData.volume,
                'H√ºllfl√§che': measurementData.surfaceArea,
                'Geschossanzahl': measurementData.floors,
                'Nutzungsart': measurementData.usageType
            };

            // Alle Input-Felder durchgehen
            document.querySelectorAll('input').forEach(input => {
                const placeholder = input.getAttribute('placeholder');

                if (placeholder && fieldMapping[placeholder]) {
                    input.value = fieldMapping[placeholder];
                    highlightField(input, '#ffe6e6');
                    console.log(`‚úÖ ${placeholder}: ${fieldMapping[placeholder]}`);
                }
            });

            // Zus√§tzlich: Berechnete Werte in die Anzeige-Karten einf√ºgen
            updateDisplayCards(measurementData);
        }

        // Anzeige-Karten aktualisieren (Seite 5)
        function updateDisplayCards(measurementData) {
            // n‚ÇÖ‚ÇÄ-Wert
            if (measurementData.n50) {
                const n50Card = document.querySelector('.control-n50');
                if (n50Card) {
                    n50Card.textContent = measurementData.n50;
                }

                // Auch in den Ergebnis-Karten
                const n50Result = document.querySelector('.result-card .value');
                if (n50Result) {
                    n50Result.textContent = measurementData.n50;
                }
            }

            // Geb√§udevolumen
            if (measurementData.volume) {
                const volumeCard = document.querySelector('.control-volume');
                if (volumeCard) {
                    volumeCard.textContent = measurementData.volume;
                }
            }

            // Max. Druck
            if (measurementData.pressure) {
                const pressureCard = document.querySelector('.control-pressure');
                if (pressureCard) {
                    pressureCard.textContent = measurementData.pressure;
                }
            }
        }

        // Tabellen bef√ºllen
        function fillMeasurementTables(data) {
            console.log('üìä F√ºlle Tabellen:', data);

            const tables = document.querySelectorAll('.data-table tbody');

            // Unterdruckmessungen (erste Tabelle)
            if (data.underpressure && data.underpressure.length > 0 && tables[0]) {
                tables[0].innerHTML = '';

                data.underpressure.forEach((measurement, index) => {
                    const row = document.createElement('tr');
                    row.innerHTML = `
                <td>${index + 1}</td>
                <td>${measurement.pressure}</td>
                <td>${measurement.volume}</td>
                <td style="color: #10b981; font-weight: bold;">üì• √úbertragen</td>
            `;
                    tables[0].appendChild(row);
                });

                console.log(`‚úÖ ${data.underpressure.length} Unterdruckmessungen eingef√ºgt`);
            }

            // √úberdruckmessungen (zweite Tabelle)
            if (data.overpressure && data.overpressure.length > 0 && tables[1]) {
                tables[1].innerHTML = '';

                data.overpressure.forEach((measurement, index) => {
                    const row = document.createElement('tr');
                    row.innerHTML = `
                <td>${index + 1}</td>
                <td>${measurement.pressure}</td>
                <td>${measurement.volume}</td>
                <td style="color: #10b981; font-weight: bold;">üì• √úbertragen</td>
            `;
                    tables[1].appendChild(row);
                });

                console.log(`‚úÖ ${data.overpressure.length} √úberdruckmessungen eingef√ºgt`);
            }
        }

        // Feld hervorheben
        function highlightField(input, color) {
            const originalColor = input.style.backgroundColor;
            input.style.backgroundColor = color;
            input.style.transition = 'background-color 0.3s ease';

            setTimeout(() => {
                input.style.backgroundColor = originalColor;
            }, 2000);
        }

        // Erfolgsanzeige
        function showSuccessMessage(message) {
            const successDiv = document.createElement('div');
            successDiv.style.cssText = `
        position: fixed;
        top: 20px;
        right: 20px;
        background: linear-gradient(135deg, #10b981, #059669);
        color: white;
        padding: 16px 24px;
        border-radius: 12px;
        box-shadow: 0 8px 32px rgba(16, 185, 129, 0.3);
        z-index: 1000;
        font-weight: 600;
        font-size: 14px;
        animation: slideIn 0.5s ease-out;
        border: 1px solid rgba(255, 255, 255, 0.2);
    `;
            successDiv.innerHTML = message;
            document.body.appendChild(successDiv);

            setTimeout(() => {
                successDiv.style.animation = 'slideOut 0.5s ease-out';
                setTimeout(() => successDiv.remove(), 500);
            }, 4000);
        }

        // Fehleranzeige
        function showErrorMessage(message) {
            const errorDiv = document.createElement('div');
            errorDiv.style.cssText = `
        position: fixed;
        top: 20px;
        right: 20px;
        background: linear-gradient(135deg, #ef4444, #dc2626);
        color: white;
        padding: 16px 24px;
        border-radius: 12px;
        box-shadow: 0 8px 32px rgba(239, 68, 68, 0.3);
        z-index: 1000;
        font-weight: 600;
        font-size: 14px;
        animation: slideIn 0.5s ease-out;
        border: 1px solid rgba(255, 255, 255, 0.2);
    `;
            errorDiv.innerHTML = '‚ùå ' + message;
            document.body.appendChild(errorDiv);

            setTimeout(() => {
                errorDiv.style.animation = 'slideOut 0.5s ease-out';
                setTimeout(() => errorDiv.remove(), 500);
            }, 6000);
        }

        // Debug-Funktionen
        function debugFields() {
            console.log('üîç === DEBUG: Alle Eingabefelder ===');

            const inputs = document.querySelectorAll('input');
            inputs.forEach((input, index) => {
                const label = input.closest('.field-group')?.querySelector('label')?.textContent;
                const placeholder = input.getAttribute('placeholder');

                console.log(`${index}: Label="${label || 'none'}", Placeholder="${placeholder || 'none'}", Wert="${input.value}"`);
            });

            console.log('üîç === DEBUG: Alle Tabellen ===');
            const tables = document.querySelectorAll('.data-table');
            tables.forEach((table, index) => {
                const title = table.closest('.info-block')?.querySelector('h3')?.textContent;
                console.log(`Tabelle ${index}: ${title || 'Unbekannt'}`);
            });
        }

        function showDataPreview() {
            const urlParams = new URLSearchParams(window.location.search);
            const encodedData = urlParams.get('data');

            if (encodedData) {
                try {
                    const data = JSON.parse(decodeURIComponent(encodedData));
                    console.log('üìã Datenvorschau:', data);

                    let preview = '=== DATENVORSCHAU ===\n\n';

                    if (data.weather) {
                        preview += 'üå§Ô∏è Wetterdaten:\n';
                        Object.entries(data.weather).forEach(([key, value]) => {
                            if (value) preview += `  ‚Ä¢ ${key}: ${value}\n`;
                        });
                        preview += '\n';
                    }

                    if (data.measurement) {
                        preview += 'üìè Messparameter:\n';
                        Object.entries(data.measurement).forEach(([key, value]) => {
                            if (value) preview += `  ‚Ä¢ ${key}: ${value}\n`;
                        });
                        preview += '\n';
                    }

                    if (data.underpressure) {
                        preview += `üìä Unterdruckmessungen: ${data.underpressure.length} Eintr√§ge\n`;
                    }

                    if (data.overpressure) {
                        preview += `üìä √úberdruckmessungen: ${data.overpressure.length} Eintr√§ge\n`;
                    }

                    alert(preview);
                } catch (error) {
                    alert('Fehler beim Anzeigen der Datenvorschau: ' + error.message);
                }
            } else {
                alert('Keine Daten in der URL gefunden.');
            }
        }

        // Druckfunktion
        function printProtocol() {
            window.print();
        }

        // Exportfunktion
        function exportData() {
            const data = window.protocolData || {};
            const dataStr = JSON.stringify(data, null, 2);
            const dataBlob = new Blob([dataStr], { type: 'application/json' });
            const url = URL.createObjectURL(dataBlob);
            const link = document.createElement('a');
            link.href = url;
            link.download = 'blower-door-protokoll.json';
            link.click();
            URL.revokeObjectURL(url);
        }

        // CSS f√ºr Animationen
        const styleSheet = document.createElement('style');
        styleSheet.textContent = `
    @keyframes slideIn {
        from { 
            transform: translateX(100%) scale(0.8); 
            opacity: 0; 
        }
        to { 
            transform: translateX(0) scale(1); 
            opacity: 1; 
        }
    }
    
    @keyframes slideOut {
        from { 
            transform: translateX(0) scale(1); 
            opacity: 1; 
        }
        to { 
            transform: translateX(100%) scale(0.8); 
            opacity: 0; 
        }
    }
    
    .debug-panel {
        position: fixed;
        top: 60px;
        left: 10px;
        background: rgba(0, 0, 0, 0.9);
        color: white;
        padding: 10px;
        border-radius: 8px;
        font-family: monospace;
        font-size: 12px;
        z-index: 998;
        max-width: 300px;
        max-height: 400px;
        overflow-y: auto;
    }
`;
        document.head.appendChild(styleSheet);

        // Hauptinitialisierung
        document.addEventListener('DOMContentLoaded', function () {
            console.log('üöÄ Protocol.html initialisiert');

            // Auto-save bei √Ñnderungen
            document.addEventListener('input', autoSave);

            // Daten aus URL laden
            loadDataFromURL();

            // Bestehende Daten laden
            loadData();

            // Fokus-Effekte f√ºr Textfelder
            document.querySelectorAll('.editable-text').forEach(textarea => {
                textarea.addEventListener('focus', function () {
                    this.parentElement.style.borderColor = '#007acc';
                    this.parentElement.style.boxShadow = '0 0 10px rgba(0, 122, 204, 0.2)';
                });

                textarea.addEventListener('blur', function () {
                    this.parentElement.style.borderColor = '#007acc';
                    this.parentElement.style.boxShadow = 'none';
                });
            });

            // Debug-Panel erstellen
            const debugPanel = document.createElement('div');
            debugPanel.innerHTML = `
        <div style="margin-bottom: 10px; font-weight: bold; color: #10b981;">üîß Debug-Panel</div>
        <button onclick="debugFields()" style="background: #374151; color: white; border: none; padding: 4px 8px; border-radius: 4px; margin: 2px; cursor: pointer;">üìã Felder anzeigen</button>
        <button onclick="showDataPreview()" style="background: #374151; color: white; border: none; padding: 4px 8px; border-radius: 4px; margin: 2px; cursor: pointer;">üëÄ Datenvorschau</button>
        <button onclick="loadDataFromURL()" style="background: #374151; color: white; border: none; padding: 4px 8px; border-radius: 4px; margin: 2px; cursor: pointer;">üîÑ Daten neu laden</button>
        <div style="margin-top: 8px; font-size: 10px; color: #9ca3af;">
            Aktueller Stand: ${new Date().toLocaleTimeString()}
        </div>
    `;
            debugPanel.className = 'debug-panel';
            document.body.appendChild(debugPanel);

            // Debug-Panel ein-/ausblenden
            debugPanel.addEventListener('dblclick', function () {
                this.style.display = this.style.display === 'none' ? 'block' : 'none';
            });

            console.log('‚úÖ Protokoll bereit f√ºr Daten√ºbertragung');
        });

        // Tastaturk√ºrzel
        document.addEventListener('keydown', function (e) {
            // Ctrl+S f√ºr Speichern
            if (e.ctrlKey && e.key === 's') {
                e.preventDefault();
                autoSave();
                showSuccessMessage('üíæ Daten gespeichert!');
            }

            // Ctrl+P f√ºr Drucken
            if (e.ctrlKey && e.key === 'p') {
                e.preventDefault();
                printProtocol();
            }

            // Ctrl+D f√ºr Debug
            if (e.ctrlKey && e.key === 'd') {
                e.preventDefault();
                debugFields();
            }

            // F5 f√ºr Daten neu laden
            if (e.key === 'F5') {
                e.preventDefault();
                loadDataFromURL();
            }
        });
    </script>
</body>

</html>